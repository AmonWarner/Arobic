<head>

</head>
<body>
  <div id="gif">
    <p>Loading content...</p>
  </div>
      <script>
        const queryString = window.location.search;
        const urlParams = new URLSearchParams(queryString);
        const file = urlParams.get('file');
        parent.getFilePath(file, window.frameElement.id)

        function receive(event) {
        console.log("Received Path: " + event.data);
        document.getElementById("gif").innerHTML = `<img src="${event.data}" width="250" />`
      if (event.data == null) {
       location.reload(); // this should fix the issue!
      }
    }
    window.addEventListener('message', receive);
      </script>
</body>